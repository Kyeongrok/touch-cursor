<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:views="clr-namespace:TouchCursor.Main.UI.Views"
                    xmlns:units="clr-namespace:TouchCursor.Main.UI.Units"
                    xmlns:loc="clr-namespace:TouchCursor.Main.Localization"
                    xmlns:helpers="clr-namespace:TouchCursor.Support.Local.Helpers;assembly=TouchCursor.Support"
                    xmlns:sys="clr-namespace:System;assembly=mscorlib">

    <Style TargetType="{x:Type views:GeneralSettingsView}">
        <Setter Property="Background" Value="White"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type views:GeneralSettingsView}">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}">
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <StackPanel Margin="10">
                                <!-- Activation Key Profiles -->
                                <units:ActivationKeyProfilesControl
                                    ActivationKeyProfiles="{Binding ActivationKeyProfiles}"
                                    SelectedActivationKeyProfile="{Binding SelectedActivationKeyProfile}"
                                    AddActivationKeyProfileCommand="{Binding AddActivationKeyProfileCommand}"
                                    RemoveActivationKeyProfileCommand="{Binding RemoveActivationKeyProfileCommand}"/>

                                <!-- Behavior -->
                                <GroupBox Header="{loc:Localize SettingsWindow.Behavior, Default='Behavior'}" Margin="0,0,0,15">
                                    <StackPanel Margin="10">
                                        <CheckBox Content="{loc:Localize SettingsWindow.EnableTouchCursor, Default='Enable TouchCursor'}"
                                                  IsChecked="{Binding IsEnabled}" Margin="0,5"/>
                                        <CheckBox Content="{loc:Localize SettingsWindow.RunAtStartup, Default='Run at Windows startup'}"
                                                  IsChecked="{Binding RunAtStartup}" Margin="0,5"/>
                                        <CheckBox Content="{loc:Localize SettingsWindow.ShowInTray, Default='Show in system tray'}"
                                                  IsChecked="{Binding ShowInTray}" Margin="0,5"/>
                                        <CheckBox Content="{loc:Localize SettingsWindow.BeepForMistakes, Default='Beep for mistakes'}"
                                                  IsChecked="{Binding BeepForMistakes}" Margin="0,5"/>

                                        <Separator Margin="0,10"/>

                                        <!-- Language -->
                                        <TextBlock Text="언어 / Language:" Margin="0,5,0,5"/>
                                        <ComboBox ItemsSource="{Binding AvailableLanguages}"
                                                  SelectedValue="{Binding SelectedLanguage}"
                                                  SelectedValuePath="Code"
                                                  DisplayMemberPath="NativeName"
                                                  Margin="0,5,0,10"/>

                                        <Separator Margin="0,10"/>

                                        <!-- Overlay Position -->
                                        <TextBlock Text="오버레이 위치:" Margin="0,5,0,5"/>
                                        <ComboBox SelectedItem="{Binding OverlayPosition}" Margin="0,5,0,10">
                                            <helpers:OverlayPosition>BottomRight</helpers:OverlayPosition>
                                            <helpers:OverlayPosition>BottomLeft</helpers:OverlayPosition>
                                            <helpers:OverlayPosition>TopRight</helpers:OverlayPosition>
                                            <helpers:OverlayPosition>TopLeft</helpers:OverlayPosition>
                                        </ComboBox>

                                        <Separator Margin="0,10"/>

                                        <!-- Hold Delay -->
                                        <TextBlock Text="{loc:Localize SettingsWindow.HoldDelay, Default='Activation Key Hold Delay (ms):'}" Margin="0,5,0,5"/>
                                        <TextBlock Text="{loc:Localize SettingsWindow.HoldDelayDescription, Default='The activation key must be held for this duration before cursor mode activates.'}"
                                                   TextWrapping="Wrap" Margin="0,0,0,5" FontSize="11" Foreground="Gray"/>
                                        <Grid Margin="0,5,0,10">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            <Slider Grid.Column="0" Minimum="0" Maximum="300"
                                                    TickFrequency="10" IsSnapToTickEnabled="True"
                                                    Value="{Binding HoldDelayMs}" Margin="0,0,10,0"/>
                                            <TextBlock Grid.Column="1" Width="50" VerticalAlignment="Center"
                                                       Text="{Binding HoldDelayMs, StringFormat='{}{0} ms'}"/>
                                        </Grid>

                                        <!-- Rollover Threshold -->
                                        <TextBlock Text="{loc:Localize SettingsWindow.RolloverThreshold, Default='Rollover Threshold (ms):'}" Margin="0,5,0,5"/>
                                        <TextBlock Text="{loc:Localize SettingsWindow.RolloverThresholdDescription, Default='If a key is pressed within this time after the activation key, both are treated as normal typing.'}"
                                                   TextWrapping="Wrap" Margin="0,0,0,5" FontSize="11" Foreground="Gray"/>
                                        <Grid Margin="0,5">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>
                                            <Slider Grid.Column="0" Minimum="0" Maximum="200"
                                                    TickFrequency="10" IsSnapToTickEnabled="True"
                                                    Value="{Binding RolloverThresholdMs}" Margin="0,0,10,0"/>
                                            <TextBlock Grid.Column="1" Width="50" VerticalAlignment="Center"
                                                       Text="{Binding RolloverThresholdMs, StringFormat='{}{0} ms'}"/>
                                        </Grid>
                                    </StackPanel>
                                </GroupBox>

                            </StackPanel>
                        </ScrollViewer>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>
